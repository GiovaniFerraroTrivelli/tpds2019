<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2022px" preserveAspectRatio="none" style="width:2414px;height:2022px;" version="1.1" viewBox="0 0 2414 2022" width="2414px" zoomAndPan="magnify"><defs><filter height="300%" id="f1idkvif8t2gw5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220" x="1097.75" y="24.5332">CU-12: Registrar pago de póliza</text><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="1772.8438" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="55" y="129.2188"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="1677.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="536" y="224.625"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="1647.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="254.9766"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="55.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111" y="285.3281"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111" y="699.7344"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111" y="1121.1406"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="811.2734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1248" y="1090.7891"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1700" y="760.4375"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="750.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1700" y="1151.4922"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="720.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1705" y="1181.8438"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1710" y="1381.9531"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="441.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2041" y="1460.6563"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2120" y="371.3828"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="639.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2185.5" y="1262.8984"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="400.4063" style="stroke: #000000; stroke-width: 2.0;" width="2161.5" x="13" y="183.9219"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="277" style="stroke: #000000; stroke-width: 2.0;" width="2141.5" x="23" y="300.3281"/><rect fill="#FFFFFF" height="106.8906" style="stroke: none; stroke-width: 1.0;" width="2141.5" x="23" y="470.4375"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="432.7578" style="stroke: #000000; stroke-width: 2.0;" width="1743" x="13" y="598.3281"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="578" x="23" y="866.4922"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="94.8906" style="stroke: #000000; stroke-width: 2.0;" width="578" x="23" y="929.1953"/><rect fill="#FFFFFF" height="46.1875" style="stroke: none; stroke-width: 1.0;" width="578" x="23" y="977.8984"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="545.4609" style="stroke: #000000; stroke-width: 2.0;" width="1216.5" x="1186" y="1196.8438"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="122.4063" style="stroke: #000000; stroke-width: 2.0;" width="572.5" x="1654" y="1222.1953"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="152.7578" style="stroke: #000000; stroke-width: 2.0;" width="738.5" x="1654" y="1506.0078"/><rect fill="#FFFFFF" height="46.1875" style="stroke: none; stroke-width: 1.0;" width="1216.5" x="1186" y="1696.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="60" x2="60" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="541" x2="541" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="850" x2="850" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1116" x2="1116" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1253" x2="1253" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1705" x2="1705" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2045.5" x2="2045.5" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2124.5" x2="2124.5" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2190.5" x2="2190.5" y1="119.2188" y2="1911.0625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2339.5" x2="2339.5" y1="119.2188" y2="1911.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="33" y="116.1426">Usuario</text><ellipse cx="60" cy="44.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M60,52.6094 L60,79.6094 M47,60.6094 L73,60.6094 M60,79.6094 L47,94.6094 M60,79.6094 L73,94.6094 " fill="none" filter="url(#f1idkvif8t2gw5)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="33" y="1924.5957">Usuario</text><ellipse cx="60" cy="1937.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M60,1945.6719 L60,1972.6719 M47,1953.6719 L73,1953.6719 M60,1972.6719 L47,1987.6719 M60,1972.6719 L73,1987.6719 " fill="none" filter="url(#f1idkvif8t2gw5)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="491" y="116.1426">InterfazUsuario</text><path d="M520.5,73.6094 L520.5,97.6094 M520.5,85.6094 L537.5,85.6094 " fill="none" filter="url(#f1idkvif8t2gw5)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="549.5" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="491" y="1924.5957">InterfazUsuario</text><path d="M520.5,1931.6719 L520.5,1955.6719 M520.5,1943.6719 L537.5,1943.6719 " fill="none" filter="url(#f1idkvif8t2gw5)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="549.5" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="791" y="116.1426">ControladorPoliza</text><ellipse cx="850" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="846,73.6094,852,68.6094,850,73.6094,852,78.6094,846,73.6094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="791" y="1924.5957">ControladorPoliza</text><ellipse cx="850" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="846,1931.6719,852,1926.6719,850,1931.6719,852,1936.6719,846,1931.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1073" y="116.1426">GestorPoliza</text><ellipse cx="1116" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1112,73.6094,1118,68.6094,1116,73.6094,1118,78.6094,1112,73.6094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1073" y="1924.5957">GestorPoliza</text><ellipse cx="1116" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1112,1931.6719,1118,1926.6719,1116,1931.6719,1118,1936.6719,1112,1931.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1196" y="116.1426">ControladorPago</text><ellipse cx="1253" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1249,73.6094,1255,68.6094,1253,73.6094,1255,78.6094,1249,73.6094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1196" y="1924.5957">ControladorPago</text><ellipse cx="1253" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1249,1931.6719,1255,1926.6719,1253,1931.6719,1255,1936.6719,1249,1931.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1664" y="116.1426">GestorPago</text><ellipse cx="1705" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1701,73.6094,1707,68.6094,1705,73.6094,1707,78.6094,1701,73.6094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1664" y="1924.5957">GestorPago</text><ellipse cx="1705" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1701,1931.6719,1707,1926.6719,1705,1931.6719,1707,1936.6719,1701,1931.6719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="2006.5" y="116.1426">pago: Pago</text><ellipse cx="2046" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2034" x2="2058" y1="99.6094" y2="99.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="2006.5" y="1924.5957">pago: Pago</text><ellipse cx="2046" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2034" x2="2058" y1="1957.6719" y2="1957.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="2095.5" y="116.1426">p: Poliza</text><ellipse cx="2125" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2113" x2="2137" y1="99.6094" y2="99.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="2095.5" y="1924.5957">p: Poliza</text><ellipse cx="2125" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2113" x2="2137" y1="1957.6719" y2="1957.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="2164.5" y="116.1426">: Cuota</text><ellipse cx="2190.5" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2178.5" x2="2202.5" y1="99.6094" y2="99.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="2164.5" y="1924.5957">: Cuota</text><ellipse cx="2190.5" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2178.5" x2="2202.5" y1="1957.6719" y2="1957.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="2297.5" y="116.1426">: PagoCuota</text><ellipse cx="2340" cy="85.6094" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2328" x2="2352" y1="99.6094" y2="99.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="2297.5" y="1924.5957">: PagoCuota</text><ellipse cx="2340" cy="1943.6719" fill="#FEFECE" filter="url(#f1idkvif8t2gw5)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="2328" x2="2352" y1="1957.6719" y2="1957.6719"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="1772.8438" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="55" y="129.2188"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="1677.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="536" y="224.625"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="1647.0859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845" y="254.9766"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="55.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111" y="285.3281"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111" y="699.7344"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1111" y="1121.1406"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="811.2734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1248" y="1090.7891"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1700" y="760.4375"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="750.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1700" y="1151.4922"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="720.2188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1705" y="1181.8438"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1710" y="1381.9531"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="441.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2041" y="1460.6563"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2120" y="371.3828"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="639.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2185.5" y="1262.8984"/><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="1128" x="30" y="129.2188"/><polygon fill="#EEEEEE" points="30,129.2188,92,129.2188,92,137.2188,82,147.2188,30,147.2188,30,129.2188" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="43" y="144.7139">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="533.5" y="164.7139">CU-18: Buscar Póliza</text><path d="M13,183.9219 L86,183.9219 L86,191.9219 L76,201.9219 L13,201.9219 L13,183.9219 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="400.4063" style="stroke: #000000; stroke-width: 2.0;" width="2161.5" x="13" y="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="198.417">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="101" y="197.3408">[!polizaCorrecta]</text><polygon fill="#A80036" points="524,220.625,534,224.625,524,228.625,528,224.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="530" y1="224.625" y2="224.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="72" y="219.7686">Seleccionar póliza</text><polygon fill="#A80036" points="833,250.9766,843,254.9766,833,258.9766,837,254.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="546" x2="839" y1="254.9766" y2="254.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="553" y="250.1201">POST número de póliza seleccionada</text><polygon fill="#A80036" points="1099,281.3281,1109,285.3281,1099,289.3281,1103,285.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="855" x2="1105" y1="285.3281" y2="285.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="862" y="280.4717">getPoliza(numeroPoliza)</text><path d="M23,300.3281 L84,300.3281 L84,308.3281 L74,318.3281 L23,318.3281 L23,300.3281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="277" style="stroke: #000000; stroke-width: 2.0;" width="2141.5" x="23" y="300.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="38" y="314.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="99" y="313.7471">[polizaCorrecta]</text><polygon fill="#A80036" points="866,337.0313,856,341.0313,866,345.0313,862,341.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="860" x2="1115" y1="341.0313" y2="341.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="872" y="336.1748">Poliza p</text><polygon fill="#A80036" points="2108,367.3828,2118,371.3828,2108,375.3828,2112,371.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="855" x2="2114" y1="371.3828" y2="371.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="862" y="366.5264">getCuotasImpagas()</text><polygon fill="#A80036" points="866,397.7344,856,401.7344,866,405.7344,862,401.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="860" x2="2124" y1="401.7344" y2="401.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="872" y="396.8779">Dictionary cuotasImpagas</text><polygon fill="#A80036" points="557,428.0859,547,432.0859,557,436.0859,553,432.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="551" x2="844" y1="432.0859" y2="432.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="563" y="427.2295">JSON datos de Poliza p</text><polygon fill="#A80036" points="76,458.4375,66,462.4375,76,466.4375,72,462.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="70" x2="535" y1="462.4375" y2="462.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="82" y="457.5811">Datos de la póliza seleccionada</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="2164.5" y1="471.4375" y2="471.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="28" y="482.8564">[!polizaCorrecta]</text><polygon fill="#A80036" points="866,504.625,856,508.625,866,512.625,862,508.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="860" x2="1115" y1="508.625" y2="508.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="872" y="503.7686">Error "No existe póliza o no está vigente"</text><polygon fill="#A80036" points="557,534.9766,547,538.9766,557,542.9766,553,538.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="551" x2="844" y1="538.9766" y2="538.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="563" y="534.1201">JSON Error "No existe póliza o no está vigente"</text><polygon fill="#A80036" points="76,565.3281,66,569.3281,76,573.3281,72,569.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="70" x2="535" y1="569.3281" y2="569.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="82" y="564.4717">Error "No existe póliza o no está vigente"</text><path d="M13,598.3281 L86,598.3281 L86,606.3281 L76,616.3281 L13,616.3281 L13,598.3281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="432.7578" style="stroke: #000000; stroke-width: 2.0;" width="1743" x="13" y="598.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="612.8232">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="101" y="611.7471">[!confirmado]</text><polygon fill="#A80036" points="524,635.0313,534,639.0313,524,643.0313,528,639.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="530" y1="639.0313" y2="639.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="72" y="634.1748">Seleccionar cuotas a abonar</text><polygon fill="#A80036" points="833,665.3828,843,669.3828,833,673.3828,837,669.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="546" x2="839" y1="669.3828" y2="669.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="553" y="664.5264">POST cuotas a abonar</text><polygon fill="#A80036" points="1099,695.7344,1109,699.7344,1099,703.7344,1103,699.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="855" x2="1105" y1="699.7344" y2="699.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="862" y="694.8779">getPoliza(idPoliza)</text><polygon fill="#A80036" points="866,726.0859,856,730.0859,866,734.0859,862,730.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="860" x2="1115" y1="730.0859" y2="730.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="872" y="725.2295">Poliza p</text><polygon fill="#A80036" points="1688,756.4375,1698,760.4375,1688,764.4375,1692,760.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="855" x2="1694" y1="760.4375" y2="760.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="862" y="755.5811">CalcularImporte(Poliza p, List&lt;idCuota&gt;)</text><polygon fill="#A80036" points="866,786.7891,856,790.7891,866,794.7891,862,790.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="860" x2="1704" y1="790.7891" y2="790.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="872" y="785.9326">MonetaryAmount importeTotal</text><polygon fill="#A80036" points="557,817.1406,547,821.1406,557,825.1406,553,821.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="551" x2="844" y1="821.1406" y2="821.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="563" y="816.2842">JSON Importes</text><polygon fill="#A80036" points="76,847.4922,66,851.4922,76,855.4922,72,851.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="70" x2="535" y1="851.4922" y2="851.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="82" y="846.6357">Importes parciales y totales</text><path d="M23,866.4922 L84,866.4922 L84,874.4922 L74,884.4922 L23,884.4922 L23,866.4922 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="578" x="23" y="866.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="38" y="880.9873">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="324" x="99" y="879.9111">[la cuota seleccionada no es la primera pendiente de pago]</text><polygon fill="#A80036" points="76,903.1953,66,907.1953,76,911.1953,72,907.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="70" x2="535" y1="907.1953" y2="907.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="447" x="82" y="902.3389">Error "No puede cancelar una cuota posterior a la primera pendiente de pago"</text><path d="M23,929.1953 L84,929.1953 L84,937.1953 L74,947.1953 L23,947.1953 L23,929.1953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="94.8906" style="stroke: #000000; stroke-width: 2.0;" width="578" x="23" y="929.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="38" y="943.6904">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="99" y="942.6143">[el usuario confirma el pago]</text><polygon fill="#A80036" points="524,965.8984,534,969.8984,524,973.8984,528,969.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="530" y1="969.8984" y2="969.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="72" y="965.042">Confirmar pago</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="601" y1="978.8984" y2="978.8984"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="28" y="990.3174">[cancelar]</text><polygon fill="#A80036" points="524,1012.0859,534,1016.0859,524,1020.0859,528,1016.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="530" y1="1016.0859" y2="1016.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="72" y="1011.2295">Cancelar</text><polygon fill="#A80036" points="524,1056.4375,534,1060.4375,524,1064.4375,528,1060.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="530" y1="1060.4375" y2="1060.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="72" y="1055.5811">Ingresar monto abonado</text><polygon fill="#A80036" points="1236,1086.7891,1246,1090.7891,1236,1094.7891,1240,1090.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="546" x2="1242" y1="1090.7891" y2="1090.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="553" y="1085.9326">POST registrarPago</text><polygon fill="#A80036" points="1132,1117.1406,1122,1121.1406,1132,1125.1406,1128,1121.1406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1126" x2="1247" y1="1121.1406" y2="1121.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1138" y="1116.2842">getPoliza(idPoliza)</text><polygon fill="#A80036" points="1236,1147.4922,1246,1151.4922,1236,1155.4922,1240,1151.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1116" x2="1242" y1="1151.4922" y2="1151.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="1123" y="1146.6357">Poliza p</text><polygon fill="#A80036" points="1693,1177.8438,1703,1181.8438,1693,1185.8438,1697,1181.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1258" x2="1699" y1="1181.8438" y2="1181.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="1265" y="1176.9873">registrarPago(Poliza p, List&lt;idCuota&gt; cuotas, MonetaryAmount importe)</text><path d="M1186,1196.8438 L1247,1196.8438 L1247,1204.8438 L1237,1214.8438 L1186,1214.8438 L1186,1196.8438 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="545.4609" style="stroke: #000000; stroke-width: 2.0;" width="1216.5" x="1186" y="1196.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="1201" y="1211.3389">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="1262" y="1210.2627">[dineroSuficiente]</text><path d="M1654,1222.1953 L1727,1222.1953 L1727,1230.1953 L1717,1240.1953 L1654,1240.1953 L1654,1222.1953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="122.4063" style="stroke: #000000; stroke-width: 2.0;" width="572.5" x="1654" y="1222.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="1669" y="1236.6904">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="1742" y="1235.6143">[while cuotas.lenght() &gt; 0]</text><polygon fill="#A80036" points="2173.5,1258.8984,2183.5,1262.8984,2173.5,1266.8984,2177.5,1262.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1715" x2="2179.5" y1="1262.8984" y2="1262.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="1722" y="1258.042">&lt;&lt;create&gt;&gt; Cuota(importe, mes, anio)</text><polygon fill="#A80036" points="1726,1289.25,1716,1293.25,1726,1297.25,1722,1293.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1720" x2="2184.5" y1="1293.25" y2="1293.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="1732" y="1288.3936">Cuota c</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1715" x2="1757" y1="1323.6016" y2="1323.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1757" x2="1757" y1="1323.6016" y2="1336.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1716" x2="1757" y1="1336.6016" y2="1336.6016"/><polygon fill="#A80036" points="1726,1332.6016,1716,1336.6016,1726,1340.6016,1722,1336.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="1722" y="1318.7451">List&lt;Cuota&gt; cuotas.add(c)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1715" x2="1762" y1="1368.9531" y2="1368.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1762" x2="1762" y1="1368.9531" y2="1381.9531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1721" x2="1762" y1="1381.9531" y2="1381.9531"/><polygon fill="#A80036" points="1731,1377.9531,1721,1381.9531,1731,1385.9531,1727,1381.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="1727" y="1364.0967">calcularPremios(Poliza p, List&lt;Cuota&gt; cuotas)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1720" x2="1762" y1="1422.3047" y2="1422.3047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1762" x2="1762" y1="1422.3047" y2="1435.3047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1715" x2="1762" y1="1435.3047" y2="1435.3047"/><polygon fill="#A80036" points="1725,1431.3047,1715,1435.3047,1725,1439.3047,1721,1435.3047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="1727" y="1417.4482">MonetaryAmount premio</text><polygon fill="#A80036" points="2029,1456.6563,2039,1460.6563,2029,1464.6563,2033,1460.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1715" x2="2035" y1="1460.6563" y2="1460.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="307" x="1722" y="1455.7998">&lt;&lt;create&gt;&gt; Pago(Poliza p, MonetaryAmount premio)</text><polygon fill="#A80036" points="1726,1487.0078,1716,1491.0078,1726,1495.0078,1722,1491.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1720" x2="2040" y1="1491.0078" y2="1491.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="1732" y="1486.1514">Pago pago</text><path d="M1654,1506.0078 L1727,1506.0078 L1727,1514.0078 L1717,1524.0078 L1654,1524.0078 L1654,1506.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="152.7578" style="stroke: #000000; stroke-width: 2.0;" width="738.5" x="1654" y="1506.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="1669" y="1520.5029">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="1742" y="1519.4268">[while cuotas.length() &gt; 0]</text><polygon fill="#A80036" points="2328,1542.7109,2338,1546.7109,2328,1550.7109,2332,1546.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1715" x2="2334" y1="1546.7109" y2="1546.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="601" x="1722" y="1541.8545">&lt;&lt;create&gt;&gt; PagoCuota(Pago p, Cuota c, RecargoMora mora, BonificacionPagoAdelantado bonificacion)</text><polygon fill="#A80036" points="1726,1573.0625,1716,1577.0625,1726,1581.0625,1722,1577.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1720" x2="2339" y1="1577.0625" y2="1577.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="1732" y="1572.2061">PagoCuota PagoCuota</text><polygon fill="#A80036" points="2173.5,1603.4141,2183.5,1607.4141,2173.5,1611.4141,2177.5,1607.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1715" x2="2179.5" y1="1607.4141" y2="1607.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1722" y="1602.5576">addPagoCuota(PagoCuota pc)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2195.5" x2="2237.5" y1="1637.7656" y2="1637.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2237.5" x2="2237.5" y1="1637.7656" y2="1650.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2196.5" x2="2237.5" y1="1650.7656" y2="1650.7656"/><polygon fill="#A80036" points="2206.5,1646.7656,2196.5,1650.7656,2206.5,1654.7656,2202.5,1650.7656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="2202.5" y="1632.9092">registrarPago()</text><polygon fill="#A80036" points="1269,1684.1172,1259,1688.1172,1269,1692.1172,1265,1688.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1263" x2="1704" y1="1688.1172" y2="1688.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="1275" y="1683.2607">pago confirmado, vuelto correspondiente</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1186" x2="2402.5" y1="1697.1172" y2="1697.1172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="1191" y="1708.5361">[dineroInsuficiente]</text><polygon fill="#A80036" points="1269,1730.3047,1259,1734.3047,1269,1738.3047,1265,1734.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1263" x2="1704" y1="1734.3047" y2="1734.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="1275" y="1729.4482">Error dinero insuficiente</text><polygon fill="#A80036" points="557,1767.6563,547,1771.6563,557,1775.6563,553,1771.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="551" x2="1247" y1="1771.6563" y2="1771.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="563" y="1766.7998">JSON vuelto</text><polygon fill="#A80036" points="76,1798.0078,66,1802.0078,76,1806.0078,72,1802.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="70" x2="535" y1="1802.0078" y2="1802.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="82" y="1797.1514">Monto vuelto</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1116" x2="1158" y1="1832.3594" y2="1832.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1158" x2="1158" y1="1832.3594" y2="1845.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1117" x2="1158" y1="1845.3594" y2="1845.3594"/><polygon fill="#A80036" points="1127,1841.3594,1117,1845.3594,1127,1849.3594,1123,1845.3594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="1123" y="1827.5029">registrarPago()</text><rect fill="#FFFFFF" filter="url(#f1idkvif8t2gw5)" height="42.7031" style="stroke: #000000; stroke-width: 2.0;" width="1128" x="30" y="1853.3594"/><polygon fill="#EEEEEE" points="30,1853.3594,92,1853.3594,92,1861.3594,82,1871.3594,30,1871.3594,30,1853.3594" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="43" y="1868.8545">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="512.5" y="1888.8545">CU-13: Emitir recibo de pago</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="383" x="1016.25" y="2009.0527">Grupo 4A: Matías Bode, Francisco Busso, Giovani Ferraro Trivelli, Miguel Storani</text><!--
@startuml CU-12

title CU-12: Registrar pago de póliza
center footer Grupo 4A: Matías Bode, Francisco Busso, Giovani Ferraro Trivelli, Miguel Storani

actor Usuario
boundary InterfazUsuario
control ControladorPoliza
control GestorPoliza
control ControladorPago
control GestorPago
entity "pago: Pago" as Pago
entity "p: Poliza" as Poliza
entity ": Cuota" as Cuota
entity ": PagoCuota" as PagoCuota

ref over Usuario, InterfazUsuario, ControladorPoliza, GestorPoliza
    CU-18: Buscar Póliza
end ref

loop !polizaCorrecta
activate Usuario
Usuario -> InterfazUsuario : Seleccionar póliza
activate InterfazUsuario
InterfazUsuario -> ControladorPoliza : POST número de póliza seleccionada
activate ControladorPoliza
ControladorPoliza -> GestorPoliza : getPoliza(numeroPoliza)
activate GestorPoliza
alt polizaCorrecta
ControladorPoliza <- - GestorPoliza : Poliza p
deactivate GestorPoliza
ControladorPoliza -> Poliza : getCuotasImpagas()
activate Poliza
Poliza - -> ControladorPoliza : Dictionary cuotasImpagas
deactivate Poliza
InterfazUsuario <- - ControladorPoliza : JSON datos de Poliza p
Usuario <- - InterfazUsuario : Datos de la póliza seleccionada
else !polizaCorrecta
ControladorPoliza <- - GestorPoliza : Error "No existe póliza o no está vigente"
InterfazUsuario <- - ControladorPoliza : JSON Error "No existe póliza o no está vigente"
Usuario <- - InterfazUsuario : Error "No existe póliza o no está vigente" 
end
end
loop !confirmado
Usuario -> InterfazUsuario : Seleccionar cuotas a abonar
InterfazUsuario -> ControladorPoliza : POST cuotas a abonar
ControladorPoliza -> GestorPoliza : getPoliza(idPoliza)
activate GestorPoliza
GestorPoliza - -> ControladorPoliza : Poliza p
deactivate GestorPoliza
ControladorPoliza -> GestorPago : CalcularImporte(Poliza p, List<idCuota>)
activate GestorPago
GestorPago - -> ControladorPoliza : MonetaryAmount importeTotal
deactivate GestorPago
deactivate GestorPoliza

InterfazUsuario <- - ControladorPoliza : JSON Importes
Usuario <- - InterfazUsuario : Importes parciales y totales
alt la cuota seleccionada no es la primera pendiente de pago
Usuario <- - InterfazUsuario : Error "No puede cancelar una cuota posterior a la primera pendiente de pago"
end
alt el usuario confirma el pago
Usuario -> InterfazUsuario : Confirmar pago
else cancelar
Usuario -> InterfazUsuario : Cancelar
end
end
Usuario -> InterfazUsuario : Ingresar monto abonado
InterfazUsuario -> ControladorPago : POST registrarPago
activate ControladorPago
ControladorPago -> GestorPoliza : getPoliza(idPoliza)
activate GestorPoliza
GestorPoliza - -> ControladorPago : Poliza p
deactivate GestorPoliza
activate GestorPago
ControladorPago -> GestorPago : registrarPago(Poliza p, List<idCuota> cuotas, MonetaryAmount importe)
activate GestorPago
alt dineroSuficiente
loop while cuotas.lenght() > 0
    GestorPago -> Cuota : <<create>> Cuota(importe, mes, anio)
    activate Cuota
    Cuota - -> GestorPago : Cuota c
    GestorPago -> GestorPago : List<Cuota> cuotas.add(c)
end loop
GestorPago -> GestorPago : calcularPremios(Poliza p, List<Cuota> cuotas)
activate GestorPago
GestorPago - -> GestorPago : MonetaryAmount premio
deactivate GestorPago
GestorPago -> Pago : <<create>> Pago(Poliza p, MonetaryAmount premio)
activate Pago
Pago - -> GestorPago : Pago pago
loop while cuotas.length() > 0
    GestorPago -> PagoCuota : <<create>> PagoCuota(Pago p, Cuota c, RecargoMora mora, BonificacionPagoAdelantado bonificacion)
    PagoCuota - -> GestorPago : PagoCuota PagoCuota
    GestorPago -> Cuota : addPagoCuota(PagoCuota pc)
    Cuota -> Cuota : registrarPago()
end loop

GestorPago - -> ControladorPago : pago confirmado, vuelto correspondiente
else dineroInsuficiente
GestorPago - -> ControladorPago : Error dinero insuficiente
end alt

InterfazUsuario <- - ControladorPago : JSON vuelto
Usuario <- - InterfazUsuario : Monto vuelto
GestorPoliza -> GestorPoliza : registrarPago()

ref over Usuario, InterfazUsuario, ControladorPoliza, GestorPoliza
    CU-13: Emitir recibo de pago
end ref

@enduml

PlantUML version 1.2019.09(Mon Aug 26 13:19:51 ART 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: es
Country: AR
--></g></svg>